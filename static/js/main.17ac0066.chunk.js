(this["webpackJsonpweb-cognitive-test"]=this["webpackJsonpweb-cognitive-test"]||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r),s=n(6),o=n.n(s),c=(n(39),n(17)),d=n.n(c),l=n(21),j=n(4),u=(n.p,n.p+"static/media/kthlogo.b07cd2db.png"),g=(n(41),n(69)),h=n(73);function b(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var p=Object(g.a)((function(e){return{paper:{position:"absolute",width:600,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function m(e){var t=p(),n=i.a.useState(b),r=Object(j.a)(n,1)[0],s=Object(a.jsxs)("div",{style:r,className:t.paper,children:[Object(a.jsx)("h2",{id:"simple-modal-title",children:"Forskningsprojekt om r\xf6st och kognition"}),Object(a.jsx)("p",{id:"simple-modal-description",children:"Studien bedrivs vid Tal Musik H\xf6rsel p\xe5 KTH med m\xe5ls\xe4ttning att f\xf6rb\xe4ttra diagnostik vid Alzheimer."}),Object(a.jsx)("p",{id:"simple-modal-description",children:"Studien riktar sig fr\xe4mst till dig som har f\xe5tt en diagnos relaterad till kognitiv neds\xe4ttning som MCI eller Alzheimers sjukdom."}),Object(a.jsx)("p",{id:"simple-modal-description",children:"Genom att vara med i studien godk\xe4nner du att din r\xf6st sparas och lagras p\xe5 servrar tillh\xf6rande Kungliga Tekniska H\xf6gskolans enhet f\xf6r Tal Musik H\xf6rsel."}),Object(a.jsx)("p",{id:"simple-modal-description",children:"Ansvarig forskare f\xf6r studien \xe4r Professor Jonas Beskow (beskow@kth.se) och Birger Mo\xebll (bmoell@kth.se)."}),Object(a.jsx)("button",{type:"button",onClick:e.handleClose,children:"Jag godk\xe4nner att min r\xf6st anv\xe4nds i en forskningsstudie"}),Object(a.jsx)("button",{type:"button",onClick:e.handleOpen,children:"Jag vill inte medverka i studien."}),Object(a.jsx)(m,{})]});return Object(a.jsx)("div",{children:Object(a.jsx)(h.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:s})})}var v=n(16),O=n(9),x=n(26),f=n(25),k=n(29),S=(n(49),i.a.Component,n(12)),C=n(72),w=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function A(e){var t=w();return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(C.a,{onClick:e.onClick,variant:"contained",color:"primary",children:e.text})})}i.a.Component;function M(e){var t=i.a.useState(""),n=Object(j.a)(t,2),s=n[0],o=n[1],c=i.a.useState(""),d=Object(j.a)(c,2),l=d[0],g=d[1],h=i.a.useState(!1),b=Object(j.a)(h,2),p=b[0],m=b[1],v=Object(r.useRef)(null),O=function(e){console.log("usermedia is",v)};return p?Object(a.jsxs)("div",{className:"AudioForm-container",children:[Object(a.jsx)("p",{children:"Tack f\xf6r att du var med i v\xe5r unders\xf6kning. Tipsa g\xe4rna flera att vara med i v\xe5r studie."}),Object(a.jsx)("img",{src:u,width:"150px",alt:"logo"}),Object(a.jsx)("p",{children:"H\xf6r av dig till bmoell@kth.se om du har n\xe5gra fr\xe5gor kring studien."}),Object(a.jsx)("audio",{ref:v,src:e.recorded,autoPlay:!0,id:"user-media"})]}):Object(a.jsxs)("div",{className:"AudioForm-container",children:[Object(a.jsx)("label",{for:"diagnos",children:"Har du en diagnos av en kognitiv neds\xe4ttning"}),Object(a.jsx)("br",{}),Object(a.jsxs)("select",{onChange:function(e){return o(e.target.value)},name:"diagnos",id:"diagnos",children:[Object(a.jsx)("option",{value:"0",children:"Ingen diagnos"}),Object(a.jsx)("option",{value:"1",children:"MCI"}),Object(a.jsx)("option",{value:"2",children:"Alzheimer"})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("label",{for:"cognition",children:"Anser du sj\xe4lv att du har kognitiva sv\xe5righeter"}),Object(a.jsxs)("select",{onChange:function(e){return g(e.target.value)},name:"diagnos",id:"diagnos",children:[Object(a.jsx)("option",{value:"0",children:"Inga kognitiva sv\xe5righeter"}),Object(a.jsx)("option",{value:"1",children:"Vissa kognitiva sv\xe5righerer"}),Object(a.jsx)("option",{value:"2",children:"Allvarliga kognitiva sv\xe5righeter"}),Object(a.jsx)("option",{value:"2",children:"Mycket Allvarliga kognitiva sv\xe5righeter"})]}),Object(a.jsx)("hr",{}),Object(a.jsx)(A,{onClick:function(){console.log("diagnosis",s),console.log("cognition",l),console.log("recorded is",e.recorded),m(!0),O(e.recorded)},text:"Skicka in dina svar"})]})}var y=[{header:"L\xe4s meningen exakt som den s\xe4gs",text:"Katten g\xf6mde sig alltid under soffan n\xe4r det var hundar i rummet"},{header:"L\xe4s meningen exakt som den s\xe4gs",text:"Jag vet att det \xe4r Johan som ska f\xe5 hj\xe4lp idag"},{header:"S\xe4g s\xe5 m\xe5nga ord som du kan som b\xf6rjar p\xe5 F",text:""}];function I(){return Object(a.jsx)("div",{className:"Logo-header",children:Object(a.jsx)("img",{src:u,width:"100px",alt:"logo"})})}function N(e){var t=i.a.useState(0),n=Object(j.a)(t,2),s=n[0],o=n[1],c=i.a.useState({header:"L\xe4s meningen exakt som den s\xe4gs",text:"Katten g\xf6mde sig alltid under soffan n\xe4r det var hundar i rummet"}),d=Object(j.a)(c,2),l=(d[0],d[1],i.a.useState(!1)),u=Object(j.a)(l,2),g=u[0],h=u[1];return Object(r.useEffect)((function(){if(!g){var t=setInterval((function(){console.log("counter is",s),console.log("completed is",g),s>=e.phrases.length-1?(console.log("INSIDE COMPLETED"),h(!0),e.stopMicrophone()):o(s+1)}),1e3);return function(){return clearInterval(t)}}}),[s,g]),g?Object(a.jsx)(M,{recorded:e.recorded}):Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h3",{children:e.phrases&&e.phrases[s].header}),Object(a.jsxs)("p",{children:[" ",e.phrases[s].text]})]})}var T=function(){var e=i.a.useState(!0),t=Object(j.a)(e,2),n=t[0],r=t[1],s=i.a.useState(!1),o=Object(j.a)(s,2),c=o[0],u=o[1],g=i.a.useState(!1),h=Object(j.a)(g,2),b=h[0],p=h[1],v=i.a.useState(0),O=Object(j.a)(v,2),x=(O[0],O[1]),f=function(){console.log("toggling the microphone"),c?k():S()},k=function(){c.getTracks().forEach((function(e){return e.stop()})),p(c),u(null)},S=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)(I,{}),!n&&Object(a.jsx)(N,{recorded:b,stopMicrophone:k,phrases:y})]})}),Object(a.jsx)(m,{open:n,handleClose:function(){r(!1),x(new Date(Date.now())),f()},handleOpen:function(){r(!0)}})]})};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(T,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.17ac0066.chunk.js.map