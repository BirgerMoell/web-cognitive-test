(this["webpackJsonpweb-cognitive-test"]=this["webpackJsonpweb-cognitive-test"]||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r),s=n(6),o=n.n(s),c=(n(39),n(17)),d=n.n(c),l=n(21),u=n(4),j=(n.p,n.p+"static/media/kthlogo.b07cd2db.png"),g=(n(41),n(69)),h=n(73);function b(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var p=Object(g.a)((function(e){return{paper:{position:"absolute",width:600,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function m(e){var t=p(),n=i.a.useState(b),r=Object(u.a)(n,1)[0],s=Object(a.jsxs)("div",{style:r,className:t.paper,children:[Object(a.jsx)("h2",{id:"simple-modal-title",children:"Forskningsprojekt om r\xf6st och kognition"}),Object(a.jsx)("p",{id:"simple-modal-description",children:"Studien bedrivs vid Tal Musik H\xf6rsel p\xe5 KTH med m\xe5ls\xe4ttning att f\xf6rb\xe4ttra diagnostik vid Alzheimer."}),Object(a.jsx)("p",{id:"simple-modal-description",children:"Studien riktar sig fr\xe4mst till dig som har f\xe5tt en diagnos relaterad till kognitiv neds\xe4ttning som MCI eller Alzheimers sjukdom."}),Object(a.jsx)("p",{id:"simple-modal-description",children:"Genom att vara med i studien godk\xe4nner du att din r\xf6st sparas och lagras p\xe5 servrar tillh\xf6rande Kungliga Tekniska H\xf6gskolans enhet f\xf6r Tal Musik H\xf6rsel."}),Object(a.jsx)("p",{id:"simple-modal-description",children:"Ansvarig forskare f\xf6r studien \xe4r Professor Jonas Beskow (beskow@kth.se) och Birger Mo\xebll (bmoell@kth.se)."}),Object(a.jsx)("button",{type:"button",onClick:e.handleClose,children:"Jag godk\xe4nner att min r\xf6st anv\xe4nds i en forskningsstudie"}),Object(a.jsx)("button",{type:"button",onClick:e.handleOpen,children:"Jag vill inte medverka i studien."}),Object(a.jsx)(m,{})]});return Object(a.jsx)("div",{children:Object(a.jsx)(h.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:s})})}var v=n(16),O=n(9),x=n(26),f=n(25),k=n(29),S=(n(49),i.a.Component,n(12)),C=n(72),T=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}}}}));function E(e){var t=T();return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(C.a,{onClick:e.onClick,variant:"contained",color:"primary",children:e.text})})}i.a.Component;function w(e){var t=i.a.useState(""),n=Object(u.a)(t,2),s=(n[0],n[1]),o=i.a.useState(""),c=Object(u.a)(o,2),d=(c[0],c[1]),l=i.a.useState(!1),g=Object(u.a)(l,2),h=g[0],b=g[1],p=Object(r.useRef)(null),m=function(e){console.log("stream is",e),console.log("usermedia is",p);var t=document.createElement("audio");t.src="",t.srcObject=e,t.play(),console.log("the audiofile is",t)};return h?Object(a.jsxs)("div",{className:"AudioForm-container",children:[Object(a.jsx)("p",{children:"Tack f\xf6r att du var med i v\xe5r unders\xf6kning. Tipsa g\xe4rna flera att vara med i v\xe5r studie."}),Object(a.jsx)("img",{src:j,width:"150px",alt:"logo"}),Object(a.jsx)("p",{children:"H\xf6r av dig till bmoell@kth.se om du har n\xe5gra fr\xe5gor kring studien."})]}):Object(a.jsxs)("div",{className:"AudioForm-container",children:[Object(a.jsx)("label",{for:"diagnos",children:"Har du en diagnos av en kognitiv neds\xe4ttning"}),Object(a.jsx)("br",{}),Object(a.jsxs)("select",{onChange:function(e){return s(e.target.value)},name:"diagnos",id:"diagnos",children:[Object(a.jsx)("option",{value:"0",children:"Ingen diagnos"}),Object(a.jsx)("option",{value:"1",children:"MCI"}),Object(a.jsx)("option",{value:"2",children:"Alzheimer"})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("label",{for:"cognition",children:"Anser du sj\xe4lv att du har kognitiva sv\xe5righeter"}),Object(a.jsxs)("select",{onChange:function(e){return d(e.target.value)},name:"diagnos",id:"diagnos",children:[Object(a.jsx)("option",{value:"0",children:"Inga kognitiva sv\xe5righeter"}),Object(a.jsx)("option",{value:"1",children:"Vissa kognitiva sv\xe5righerer"}),Object(a.jsx)("option",{value:"2",children:"Allvarliga kognitiva sv\xe5righeter"}),Object(a.jsx)("option",{value:"2",children:"Mycket Allvarliga kognitiva sv\xe5righeter"})]}),Object(a.jsx)("hr",{}),Object(a.jsx)(E,{onClick:function(){b(!0),m(e.recorded)},text:"Skicka in dina svar"})]})}var A,I=[{header:"L\xe4s meningen exakt som den s\xe4gs",text:"Katten g\xf6mde sig alltid under soffan n\xe4r det var hundar i rummet"},{header:"L\xe4s meningen exakt som den s\xe4gs",text:"Jag vet att det \xe4r Johan som ska f\xe5 hj\xe4lp idag"},{header:"S\xe4g s\xe5 m\xe5nga ord som du kan som b\xf6rjar p\xe5 F",text:""}];function M(){return Object(a.jsx)("div",{className:"Logo-header",children:Object(a.jsx)("img",{src:j,width:"100px",alt:"logo"})})}function y(e){var t=i.a.useState(0),n=Object(u.a)(t,2),s=n[0],o=n[1],c=i.a.useState({header:"L\xe4s meningen exakt som den s\xe4gs",text:"Katten g\xf6mde sig alltid under soffan n\xe4r det var hundar i rummet"}),d=Object(u.a)(c,2),l=(d[0],d[1],i.a.useState(!1)),j=Object(u.a)(l,2),g=j[0],h=j[1];return Object(r.useEffect)((function(){if(!g){var t=setInterval((function(){console.log("counter is",s),console.log("completed is",g),s>=e.phrases.length-1?(console.log("INSIDE COMPLETED"),h(!0),e.stopMicrophone(e.mediaRecorder)):o(s+1)}),1e3);return function(){return clearInterval(t)}}}),[s,g]),g?Object(a.jsx)(w,{recorded:e.recorded}):Object(a.jsxs)(r.Fragment,{children:[Object(a.jsx)("h3",{children:e.phrases&&e.phrases[s].header}),Object(a.jsxs)("p",{children:[" ",e.phrases[s].text]})]})}var N=function(){var e=i.a.useState(!0),t=Object(u.a)(e,2),n=t[0],r=t[1],s=i.a.useState(!1),o=Object(u.a)(s,2),c=o[0],j=o[1],g=i.a.useState(!1),h=Object(u.a)(g,2),b=(h[0],h[1],i.a.useState(0)),p=Object(u.a)(b,2),v=(p[0],p[1]),O=function(){console.log("toggling the microphone"),c?x():f()},x=function(e){c.getTracks().forEach((function(e){return e.stop()})),console.log("STOPPING THE audio",c),e.stop(),j(c)},f=function(){var e=Object(l.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0,video:!1});case 2:t=e.sent,(A=new MediaRecorder(t)).start(),A.ondataavailable=function(e){console.log("the mediarecorder data is called");var t=URL.createObjectURL(e.data),n=document.createElement("audio");n.controls=!0,n.src=t,document.body.appendChild(n),n.play()},j(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)(M,{}),!n&&Object(a.jsx)(y,{mediaRecorder:A,readingTime:Object({NODE_ENV:"production",PUBLIC_URL:"/web-cognitive-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).READING_TIME,recorded:c,stopMicrophone:x,phrases:I})]})}),Object(a.jsx)(m,{open:n,handleClose:function(){r(!1),v(new Date(Date.now())),O()},handleOpen:function(){r(!0)}})]})};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.0830f00f.chunk.js.map